<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ModelPextronUrp6000">
	<resultMap id="ModelPextronUrp6000Map" type="com.nwm.api.entities.ModelPextronUrp6000Entity">
			<result property="time" column="time" />
			<result property="id_device" column="id_device" />
			<result property="error" column="error" />
			<result property="low_alarm" column="low_alarm" />
			<result property="high_alarm" column="high_alarm" />
			
			<result property="PhaseACurrent" column="PhaseACurrent" />
			<result property="PhaseBCurrent" column="PhaseBCurrent" />
			<result property="PhaseCCurrent" column="PhaseCCurrent" />
			<result property="GroundCurrent" column="GroundCurrent" />
			<result property="NeutralCurrent" column="NeutralCurrent" />
			<result property="PhaseAVoltage" column="PhaseAVoltage" />
			<result property="PhaseBVoltage" column="PhaseBVoltage" />
			<result property="PhaseCVoltage" column="PhaseCVoltage" />
			<result property="ResidualVoltage" column="ResidualVoltage" />
			<result property="NegativeSequenceCurrent" column="NegativeSequenceCurrent" />
			<result property="LineFrequency" column="LineFrequency" />
			<result property="PhaseAAngle" column="PhaseAAngle" />
			<result property="PhaseBAngle" column="PhaseBAngle" />
			<result property="PhaseCAngle" column="PhaseCAngle" />
			<result property="AuxillaryPowerSupply" column="AuxillaryPowerSupply" />
			<result property="ActivePowerPhaseA" column="ActivePowerPhaseA" />
			<result property="ActivePowerPhaseB" column="ActivePowerPhaseB" />
			<result property="ActivePowerPhaseC" column="ActivePowerPhaseC" />
			<result property="InternalRelayTemperature" column="InternalRelayTemperature" />
			<result property="PhaseAi2t" column="PhaseAi2t" />
			<result property="PhaseBi2t" column="PhaseBi2t" />
			<result property="PhaseCi2t" column="PhaseCi2t" />
			<result property="NumberofCircuitBreakerOpenings" column="NumberofCircuitBreakerOpenings" />
			<result property="PowerFactor" column="PowerFactor" />
			<result property="InductiveEnergyStorage" column="InductiveEnergyStorage" />
			<result property="CapacitiveEnergyStorage" column="CapacitiveEnergyStorage" />
			<result property="InductiveReactiveEnergyStorage" column="InductiveReactiveEnergyStorage" />
			<result property="CapactiveReactiveEnergyStorage" column="CapactiveReactiveEnergyStorage" />
			<result property="OutputRelay1" column="OutputRelay1" />
			<result property="OutputRelay2" column="OutputRelay2" />
			<result property="OutputRelay3" column="OutputRelay3" />
			<result property="OutputRelay4" column="OutputRelay4" />
			<result property="OutputRelay5" column="OutputRelay5" />
			<result property="HotLineTag" column="HotLineTag" />
			<result property="EnableRemoteReset" column="EnableRemoteReset" />

		    <result property="nvmActivePower" column="nvmActivePower" />
		    <result property="nvmActiveEnergy" column="nvmActiveEnergy" />
		    <result property="MeasuredProduction" column="MeasuredProduction" />
		    <result property="datatablename" column="datatablename" />
			<result property="view_tablename" column="view_tablename" />
			<result property="job_tablename" column="job_tablename" />
	</resultMap>

	<insert id="insertModelPextronUrp6000" useGeneratedKeys="true" keyProperty="time">
		INSERT INTO `${datatablename}`
		<trim prefix="(" suffix=")" suffixOverrides="," >
			<if test="time != null" >
	        	`time`,
	        </if>
			<if test="id_device != 0.001" >
	            `id_device`,
	        </if>
			<if test="error != 0.001" >
	            `error`,
	        </if>
			<if test="low_alarm != 0.001" >
	            `low_alarm`,
	        </if>
			<if test="high_alarm != 0.001" >
	            `high_alarm`,
	        </if>
			<if test="PhaseACurrent != 0.001" >
				`PhaseACurrent`,
			</if>
			<if test="PhaseBCurrent != 0.001" >
				`PhaseBCurrent`,
			</if>
			<if test="PhaseCCurrent != 0.001" >
				`PhaseCCurrent`,
			</if>
			<if test="GroundCurrent != 0.001" >
				`GroundCurrent`,
			</if>
			<if test="NeutralCurrent != 0.001" >
				`NeutralCurrent`,
			</if>
			<if test="PhaseAVoltage != 0.001" >
				`PhaseAVoltage`,
			</if>
			<if test="PhaseBVoltage != 0.001" >
				`PhaseBVoltage`,
			</if>
			<if test="PhaseCVoltage != 0.001" >
				`PhaseCVoltage`,
			</if>
			<if test="ResidualVoltage != 0.001" >
				`ResidualVoltage`,
			</if>
			<if test="NegativeSequenceCurrent != 0.001" >
				`NegativeSequenceCurrent`,
			</if>
			<if test="LineFrequency != 0.001" >
				`LineFrequency`,
			</if>
			<if test="PhaseAPowerFactor != 0.001" >
				`PhaseAPowerFactor`,
			</if>
			<if test="PhaseBPowerFactor != 0.001" >
				`PhaseBPowerFactor`,
			</if>
			<if test="PhaseCPowerFactor != 0.001" >
				`PhaseCPowerFactor`,
			</if>
			<if test="AuxillaryPowerSupply != 0.001" >
				`AuxillaryPowerSupply`,
			</if>
			<if test="ActivePowerPhaseA != 0.001" >
				`ActivePowerPhaseA`,
			</if>
			<if test="ActivePowerPhaseB != 0.001" >
				`ActivePowerPhaseB`,
			</if>
			<if test="ActivePowerPhaseC != 0.001" >
				`ActivePowerPhaseC`,
			</if>
			<if test="InternalRelayTemperature != 0.001" >
				`InternalRelayTemperature`,
			</if>
			<if test="PhaseAi2t != 0.001" >
				`PhaseAi2t`,
			</if>
			<if test="PhaseBi2t != 0.001" >
				`PhaseBi2t`,
			</if>
			<if test="PhaseCi2t != 0.001" >
				`PhaseCi2t`,
			</if>
			<if test="NumberofCircuitBreakerOpenings != 0.001" >
				`NumberofCircuitBreakerOpenings`,
			</if>
			<if test="PowerFactor != 0.001" >
				`PowerFactor`,
			</if>
			<if test="InductiveEnergyStorage != 0.001" >
				`InductiveEnergyStorage`,
			</if>
			<if test="CapacitiveEnergyStorage != 0.001" >
				`CapacitiveEnergyStorage`,
			</if>
			<if test="InductiveReactiveEnergyStorage != 0.001" >
				`InductiveReactiveEnergyStorage`,
			</if>
			<if test="CapactiveReactiveEnergyStorage != 0.001" >
				`CapactiveReactiveEnergyStorage`,
			</if>
			<if test="OutputRelay1 != 0.001" >
				`OutputRelay1`,
			</if>
			<if test="OutputRelay2 != 0.001" >
				`OutputRelay2`,
			</if>
			<if test="OutputRelay3 != 0.001" >
				`OutputRelay3`,
			</if>
			<if test="OutputRelay4 != 0.001" >
				`OutputRelay4`,
			</if>
			<if test="OutputRelay5 != 0.001" >
				`OutputRelay5`,
			</if>
			<if test="HotLineTag != 0.001" >
				`HotLineTag`,
			</if>
			<if test="EnableRemoteReset != 0.001" >
				`EnableRemoteReset`,
			</if>
			<if test="TotalActivePower != 0.001" >
				`TotalActivePower`,
			</if>
			<if test="TotalReactivePower != 0.001" >
				`TotalReactivePower`,
			</if>
			<if test="PhaseandNeutralCurrentTransformerRatio != 0.001" >
				`PhaseandNeutralCurrentTransformerRatio`,
			</if>
			<if test="InputCurrentTransformerRatio != 0.001" >
				`InputCurrentTransformerRatio`,
			</if>
			<if test="PotentialTransformerRatio != 0.001" >
				`PotentialTransformerRatio`,
			</if>
			<if test="PhaseAActivePowerUncalculated != 0.001" >
				`PhaseAActivePowerUncalculated`,
			</if>
			<if test="PhaseBActivePowerUncalculated != 0.001" >
				`PhaseBActivePowerUncalculated`,
			</if>
			<if test="PhaseCActivePowerUncalculated != 0.001" >
				`PhaseCActivePowerUncalculated`,
			</if>
			<if test="TotalActivePowerUncalculated != 0.001" >
				`TotalActivePowerUncalculated`,
			</if>
			<if test="TotalReactivePowerUncalculated != 0.001" >
				`TotalReactivePowerUncalculated`,
			</if>
			<if test="PowerFactorUncalculated != 0.001" >
				`PowerFactorUncalculated`,
			</if>
			<if test="PhaseAPowerFactorUncalculated != 0.001" >
				`PhaseAPowerFactorUncalculated`,
			</if>
			<if test="PhaseBPowerFactorUncalculated != 0.001" >
				`PhaseBPowerFactorUncalculated`,
			</if>
			<if test="PhaseCPowerFactorUncalculated != 0.001" >
				`PhaseCPowerFactorUncalculated`,
			</if>
			<if test="PhaseAi2tUncalculated != 0.001" >
				`PhaseAi2tUncalculated`,
			</if>
			<if test="PhaseBi2tUncalculated != 0.001" >
				`PhaseBi2tUncalculated`,
			</if>
			<if test="PhaseCi2tUncalculated != 0.001" >
				`PhaseCi2tUncalculated`,
			</if>
			<if test="ProtectionStateFlags != 0.001" >
				`ProtectionStateFlags`,
			</if>
			<if test="ProtectionStateFlags2 != 0.001" >
				`ProtectionStateFlags2`,
			</if>
			<if test="ProtectionStateFlagsOutputRelays != 0.001" >
				`ProtectionStateFlagsOutputRelays`,
			</if>
			
			<if test="nvmActivePower != 0.001" >
			  	`nvmActivePower`,
			</if>
			<if test="nvmActiveEnergy != 0.001" >
			  	`nvmActiveEnergy`,
			</if>
			<if test="MeasuredProduction != 0.001">
				`MeasuredProduction`,
			</if>
		</trim>
		
		<trim prefix="values (" suffix=")" suffixOverrides="," >
			<if test="time != null" >
                #{time},
	        </if>
			<if test="id_device != 0.001" >
                #{id_device},
	        </if>
			<if test="error != 0.001" >
	        	#{error},
	        </if>
			<if test="low_alarm != 0.001" >
	            #{low_alarm},
	        </if>
			<if test="high_alarm != 0.001" >
	        	#{high_alarm},
	        </if>
			<if test="PhaseACurrent != 0.001" >
				#{PhaseACurrent},
			</if>
			<if test="PhaseBCurrent != 0.001" >
				#{PhaseBCurrent},
			</if>
			<if test="PhaseCCurrent != 0.001" >
				#{PhaseCCurrent},
			</if>
			<if test="GroundCurrent != 0.001" >
				#{GroundCurrent},
			</if>
			<if test="NeutralCurrent != 0.001" >
				#{NeutralCurrent},
			</if>
			<if test="PhaseAVoltage != 0.001" >
				#{PhaseAVoltage},
			</if>
			<if test="PhaseBVoltage != 0.001" >
				#{PhaseBVoltage},
			</if>
			<if test="PhaseCVoltage != 0.001" >
				#{PhaseCVoltage},
			</if>
			<if test="ResidualVoltage != 0.001" >
				#{ResidualVoltage},
			</if>
			<if test="NegativeSequenceCurrent != 0.001" >
				#{NegativeSequenceCurrent},
			</if>
			<if test="LineFrequency != 0.001" >
				#{LineFrequency},
			</if>
			<if test="PhaseAPowerFactor != 0.001" >
				#{PhaseAPowerFactor},
			</if>
			<if test="PhaseBPowerFactor != 0.001" >
				#{PhaseBPowerFactor},
			</if>
			<if test="PhaseCPowerFactor != 0.001" >
				#{PhaseCPowerFactor},
			</if>
			<if test="AuxillaryPowerSupply != 0.001" >
				#{AuxillaryPowerSupply},
			</if>
			<if test="ActivePowerPhaseA != 0.001" >
				#{ActivePowerPhaseA},
			</if>
			<if test="ActivePowerPhaseB != 0.001" >
				#{ActivePowerPhaseB},
			</if>
			<if test="ActivePowerPhaseC != 0.001" >
				#{ActivePowerPhaseC},
			</if>
			<if test="InternalRelayTemperature != 0.001" >
				#{InternalRelayTemperature},
			</if>
			<if test="PhaseAi2t != 0.001" >
				#{PhaseAi2t},
			</if>
			<if test="PhaseBi2t != 0.001" >
				#{PhaseBi2t},
			</if>
			<if test="PhaseCi2t != 0.001" >
				#{PhaseCi2t},
			</if>
			<if test="NumberofCircuitBreakerOpenings != 0.001" >
				#{NumberofCircuitBreakerOpenings},
			</if>
			<if test="PowerFactor != 0.001" >
				#{PowerFactor},
			</if>
			<if test="InductiveEnergyStorage != 0.001" >
				#{InductiveEnergyStorage},
			</if>
			<if test="CapacitiveEnergyStorage != 0.001" >
				#{CapacitiveEnergyStorage},
			</if>
			<if test="InductiveReactiveEnergyStorage != 0.001" >
				#{InductiveReactiveEnergyStorage},
			</if>
			<if test="CapactiveReactiveEnergyStorage != 0.001" >
				#{CapactiveReactiveEnergyStorage},
			</if>
			<if test="OutputRelay1 != 0.001" >
				#{OutputRelay1},
			</if>
			<if test="OutputRelay2 != 0.001" >
				#{OutputRelay2},
			</if>
			<if test="OutputRelay3 != 0.001" >
				#{OutputRelay3},
			</if>
			<if test="OutputRelay4 != 0.001" >
				#{OutputRelay4},
			</if>
			<if test="OutputRelay5 != 0.001" >
				#{OutputRelay5},
			</if>
			<if test="HotLineTag != 0.001" >
				#{HotLineTag},
			</if>
			<if test="EnableRemoteReset != 0.001" >
				#{EnableRemoteReset},
			</if>
			<if test="TotalActivePower != 0.001" >
				#{TotalActivePower},
			</if>
			<if test="TotalReactivePower != 0.001" >
				#{TotalReactivePower},
			</if>
			<if test="PhaseandNeutralCurrentTransformerRatio != 0.001" >
				#{PhaseandNeutralCurrentTransformerRatio},
			</if>
			<if test="InputCurrentTransformerRatio != 0.001" >
				#{InputCurrentTransformerRatio},
			</if>
			<if test="PotentialTransformerRatio != 0.001" >
				#{PotentialTransformerRatio},
			</if>
			<if test="PhaseAActivePowerUncalculated != 0.001" >
				#{PhaseAActivePowerUncalculated},
			</if>
			<if test="PhaseBActivePowerUncalculated != 0.001" >
				#{PhaseBActivePowerUncalculated},
			</if>
			<if test="PhaseCActivePowerUncalculated != 0.001" >
				#{PhaseCActivePowerUncalculated},
			</if>
			<if test="TotalActivePowerUncalculated != 0.001" >
				#{TotalActivePowerUncalculated},
			</if>
			<if test="TotalReactivePowerUncalculated != 0.001" >
				#{TotalReactivePowerUncalculated},
			</if>
			<if test="PowerFactorUncalculated != 0.001" >
				#{PowerFactorUncalculated},
			</if>
			<if test="PhaseAPowerFactorUncalculated != 0.001" >
				#{PhaseAPowerFactorUncalculated},
			</if>
			<if test="PhaseBPowerFactorUncalculated != 0.001" >
				#{PhaseBPowerFactorUncalculated},
			</if>
			<if test="PhaseCPowerFactorUncalculated != 0.001" >
				#{PhaseCPowerFactorUncalculated},
			</if>
			<if test="PhaseAi2tUncalculated != 0.001" >
				#{PhaseAi2tUncalculated},
			</if>
			<if test="PhaseBi2tUncalculated != 0.001" >
				#{PhaseBi2tUncalculated},
			</if>
			<if test="PhaseCi2tUncalculated != 0.001" >
				#{PhaseCi2tUncalculated},
			</if>
			<if test="ProtectionStateFlags != 0.001" >
				#{ProtectionStateFlags},
			</if>
			<if test="ProtectionStateFlags2 != 0.001" >
				#{ProtectionStateFlags2},
			</if>
			<if test="ProtectionStateFlagsOutputRelays != 0.001" >
				#{ProtectionStateFlagsOutputRelays},
			</if>
			
			<if test="nvmActivePower != 0.001" >
			  	#{nvmActivePower},
			</if>
			<if test="nvmActiveEnergy != 0.001" >
			  	#{nvmActiveEnergy},
			</if>
			<if test="MeasuredProduction != 0.001">
				#{MeasuredProduction},
			</if>
		</trim>
		
		<trim prefix="ON DUPLICATE KEY UPDATE " suffix=""
			suffixOverrides=",">
			<if test="id_device != 0.001" >
	        	`id_device` = #{id_device},
	        </if>
			<if test="error != 0.001" >
	        	`error` = #{error},
	        </if>
			<if test="low_alarm != 0.001" >
	            `low_alarm` = #{low_alarm},
	        </if>
			<if test="high_alarm != 0.001" >
	            `high_alarm` = #{high_alarm},
	        </if>
			<if test="PhaseACurrent != 0.001" >
				`PhaseACurrent` = #{PhaseACurrent},
			</if>
			<if test="PhaseBCurrent != 0.001" >
				`PhaseBCurrent` = #{PhaseBCurrent},
			</if>
			<if test="PhaseCCurrent != 0.001" >
				`PhaseCCurrent` = #{PhaseCCurrent},
			</if>
			<if test="GroundCurrent != 0.001" >
				`GroundCurrent` = #{GroundCurrent},
			</if>
			<if test="NeutralCurrent != 0.001" >
				`NeutralCurrent` = #{NeutralCurrent},
			</if>
			<if test="PhaseAVoltage != 0.001" >
				`PhaseAVoltage` = #{PhaseAVoltage},
			</if>
			<if test="PhaseBVoltage != 0.001" >
				`PhaseBVoltage` = #{PhaseBVoltage},
			</if>
			<if test="PhaseCVoltage != 0.001" >
				`PhaseCVoltage` = #{PhaseCVoltage},
			</if>
			<if test="ResidualVoltage != 0.001" >
				`ResidualVoltage` = #{ResidualVoltage},
			</if>
			<if test="NegativeSequenceCurrent != 0.001" >
				`NegativeSequenceCurrent` = #{NegativeSequenceCurrent},
			</if>
			<if test="LineFrequency != 0.001" >
				`LineFrequency` = #{LineFrequency},
			</if>
			<if test="PhaseAPowerFactor != 0.001" >
				`PhaseAPowerFactor` = #{PhaseAPowerFactor},
			</if>
			<if test="PhaseBPowerFactor != 0.001" >
				`PhaseBPowerFactor` = #{PhaseBPowerFactor},
			</if>
			<if test="PhaseCPowerFactor != 0.001" >
				`PhaseCPowerFactor` = #{PhaseCPowerFactor},
			</if>
			<if test="AuxillaryPowerSupply != 0.001" >
				`AuxillaryPowerSupply` = #{AuxillaryPowerSupply},
			</if>
			<if test="ActivePowerPhaseA != 0.001" >
				`ActivePowerPhaseA` = #{ActivePowerPhaseA},
			</if>
			<if test="ActivePowerPhaseB != 0.001" >
				`ActivePowerPhaseB` = #{ActivePowerPhaseB},
			</if>
			<if test="ActivePowerPhaseC != 0.001" >
				`ActivePowerPhaseC` = #{ActivePowerPhaseC},
			</if>
			<if test="InternalRelayTemperature != 0.001" >
				`InternalRelayTemperature` = #{InternalRelayTemperature},
			</if>
			<if test="PhaseAi2t != 0.001" >
				`PhaseAi2t` = #{PhaseAi2t},
			</if>
			<if test="PhaseBi2t != 0.001" >
				`PhaseBi2t` = #{PhaseBi2t},
			</if>
			<if test="PhaseCi2t != 0.001" >
				`PhaseCi2t` = #{PhaseCi2t},
			</if>
			<if test="NumberofCircuitBreakerOpenings != 0.001" >
				`NumberofCircuitBreakerOpenings` = #{NumberofCircuitBreakerOpenings},
			</if>
			<if test="PowerFactor != 0.001" >
				`PowerFactor` = #{PowerFactor},
			</if>
			<if test="InductiveEnergyStorage != 0.001" >
				`InductiveEnergyStorage` = #{InductiveEnergyStorage},
			</if>
			<if test="CapacitiveEnergyStorage != 0.001" >
				`CapacitiveEnergyStorage` = #{CapacitiveEnergyStorage},
			</if>
			<if test="InductiveReactiveEnergyStorage != 0.001" >
				`InductiveReactiveEnergyStorage` = #{InductiveReactiveEnergyStorage},
			</if>
			<if test="CapactiveReactiveEnergyStorage != 0.001" >
				`CapactiveReactiveEnergyStorage` = #{CapactiveReactiveEnergyStorage},
			</if>
			<if test="OutputRelay1 != 0.001" >
				`OutputRelay1` = #{OutputRelay1},
			</if>
			<if test="OutputRelay2 != 0.001" >
				`OutputRelay2` = #{OutputRelay2},
			</if>
			<if test="OutputRelay3 != 0.001" >
				`OutputRelay3` = #{OutputRelay3},
			</if>
			<if test="OutputRelay4 != 0.001" >
				`OutputRelay4` = #{OutputRelay4},
			</if>
			<if test="OutputRelay5 != 0.001" >
				`OutputRelay5` = #{OutputRelay5},
			</if>
			<if test="HotLineTag != 0.001" >
				`HotLineTag` = #{HotLineTag},
			</if>
			<if test="EnableRemoteReset != 0.001" >
				`EnableRemoteReset` = #{EnableRemoteReset},
			</if>
			<if test="TotalActivePower != 0.001" >
				`TotalActivePower` = #{TotalActivePower},
			</if>
			<if test="TotalReactivePower != 0.001" >
				`TotalReactivePower` = #{TotalReactivePower},
			</if>
			<if test="PhaseandNeutralCurrentTransformerRatio != 0.001" >
				`PhaseandNeutralCurrentTransformerRatio` = #{PhaseandNeutralCurrentTransformerRatio},
			</if>
			<if test="InputCurrentTransformerRatio != 0.001" >
				`InputCurrentTransformerRatio` = #{InputCurrentTransformerRatio},
			</if>
			<if test="PotentialTransformerRatio != 0.001" >
				`PotentialTransformerRatio` = #{PotentialTransformerRatio},
			</if>
			<if test="PhaseAActivePowerUncalculated != 0.001" >
				`PhaseAActivePowerUncalculated` = #{PhaseAActivePowerUncalculated},
			</if>
			<if test="PhaseBActivePowerUncalculated != 0.001" >
				`PhaseBActivePowerUncalculated` = #{PhaseBActivePowerUncalculated},
			</if>
			<if test="PhaseCActivePowerUncalculated != 0.001" >
				`PhaseCActivePowerUncalculated` = #{PhaseCActivePowerUncalculated},
			</if>
			<if test="TotalActivePowerUncalculated != 0.001" >
				`TotalActivePowerUncalculated` = #{TotalActivePowerUncalculated},
			</if>
			<if test="TotalReactivePowerUncalculated != 0.001" >
				`TotalReactivePowerUncalculated` = #{TotalReactivePowerUncalculated},
			</if>
			<if test="PowerFactorUncalculated != 0.001" >
				`PowerFactorUncalculated` = #{PowerFactorUncalculated},
			</if>
			<if test="PhaseAPowerFactorUncalculated != 0.001" >
				`PhaseAPowerFactorUncalculated` = #{PhaseAPowerFactorUncalculated},
			</if>
			<if test="PhaseBPowerFactorUncalculated != 0.001" >
				`PhaseBPowerFactorUncalculated` = #{PhaseBPowerFactorUncalculated},
			</if>
			<if test="PhaseCPowerFactorUncalculated != 0.001" >
				`PhaseCPowerFactorUncalculated` = #{PhaseCPowerFactorUncalculated},
			</if>
			<if test="PhaseAi2tUncalculated != 0.001" >
				`PhaseAi2tUncalculated` = #{PhaseAi2tUncalculated},
			</if>
			<if test="PhaseBi2tUncalculated != 0.001" >
				`PhaseBi2tUncalculated` = #{PhaseBi2tUncalculated},
			</if>
			<if test="PhaseCi2tUncalculated != 0.001" >
				`PhaseCi2tUncalculated` = #{PhaseCi2tUncalculated},
			</if>
			<if test="ProtectionStateFlags != 0.001" >
				`ProtectionStateFlags` = #{ProtectionStateFlags},
			</if>
			<if test="ProtectionStateFlags2 != 0.001" >
				`ProtectionStateFlags2` = #{ProtectionStateFlags2},
			</if>
			<if test="ProtectionStateFlagsOutputRelays != 0.001" >
				`ProtectionStateFlagsOutputRelays` = #{ProtectionStateFlagsOutputRelays},
			</if>
			
			<if test="nvmActivePower != 0.001" >
			 	`nvmActivePower` = #{nvmActivePower},
			</if>
			<if test="nvmActiveEnergy != 0.001" >
			 	`nvmActiveEnergy` = #{nvmActiveEnergy},
			</if>
			<if test="MeasuredProduction != 0.001 and MeasuredProduction > 0">
				`MeasuredProduction` = #{MeasuredProduction},
			</if>
		</trim>
	</insert>
	
	<select id="getLastRow" resultType="com.nwm.api.entities.ModelPextronUrp6000Entity">
		SELECT
			dv.*,
			s.enable_alert
		FROM
			${view_tablename} dv 
			LEFT JOIN device d ON d.id = dv.id_device
			LEFT JOIN site s ON s.id = d.id_site
		WHERE
			dv.id_device = #{id_device}
			<if test="time != null" >
	        	AND dv.time <![CDATA[<]]> #{time}
	        </if>
		ORDER BY
			dv.time DESC 
			LIMIT 1
	</select>
</mapper> 