<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ModelVerisIndustriesE51c2PowerMeter">
	<resultMap id="ModelVerisIndustriesE51c2PowerMeterMap"
		type="com.nwm.api.entities.ModelVerisIndustriesE51c2PowerMeterEntity">
		<result property="time" column="time" />
		<result property="id_device" column="id_device" />
		<result property="error" column="error" />
		<result property="low_alarm" column="low_alarm" />
		<result property="high_alarm" column="high_alarm" />
		<result property="AccumulatedRealEnergyNet"
			column="AccumulatedRealEnergyNet" />
		<result property="RealEnergyQuadrants14Import"
			column="RealEnergyQuadrants14Import" />
		<result property="RealEnergyQuadrants23Export"
			column="RealEnergyQuadrants23Export" />
		<result property="ReactiveEnergyQuadrant1"
			column="ReactiveEnergyQuadrant1" />
		<result property="ReactiveEnergyQuadrant2"
			column="ReactiveEnergyQuadrant2" />
		<result property="ReactiveEnergyQuadrant3"
			column="ReactiveEnergyQuadrant3" />
		<result property="ReactiveEnergyQuadrant4"
			column="ReactiveEnergyQuadrant4" />
		<result property="ApparentEnergyNet" column="ApparentEnergyNet" />
		<result property="ApparentEnergyQuadrants14"
			column="ApparentEnergyQuadrants14" />
		<result property="ApparentEnergyQuadrants23"
			column="ApparentEnergyQuadrants23" />
		<result property="TotalNetInstantaneousRealPower"
			column="TotalNetInstantaneousRealPower" />
		<result property="TotalNetInstantaneousReactivePower"
			column="TotalNetInstantaneousReactivePower" />
		<result property="TotalNetInstantaneousApparentPower"
			column="TotalNetInstantaneousApparentPower" />
		<result property="TotalPowerFactor" column="TotalPowerFactor" />
		<result property="VoltageLL3pAve" column="VoltageLL3pAve" />
		<result property="VoltageLN3pAve" column="VoltageLN3pAve" />
		<result property="Current3pAve" column="Current3pAve" />
		<result property="Frequency" column="Frequency" />
		<result property="TotalRealPowerPresentDemand"
			column="TotalRealPowerPresentDemand" />
		<result property="TotalReactivePowerPresentDemand"
			column="TotalReactivePowerPresentDemand" />
		<result property="TotalApparentPowerPresentDemand"
			column="TotalApparentPowerPresentDemand" />
		<result property="TotalRealPowerMaxDemandImport"
			column="TotalRealPowerMaxDemandImport" />
		<result property="TotalReactivePowerMaxDemandImport"
			column="TotalReactivePowerMaxDemandImport" />
		<result property="TotalApparentPowerMaxDemandImport"
			column="TotalApparentPowerMaxDemandImport" />
		<result property="TotalRealPowerMaxDemandExport"
			column="TotalRealPowerMaxDemandExport" />
		<result property="TotalReactivePowerMaxDemandExport"
			column="TotalReactivePowerMaxDemandExport" />
		<result property="TotalApparentPowerMaxDemandExport"
			column="TotalApparentPowerMaxDemandExport" />
		<result property="AccumulatedRealEnergyPhaseAImport"
			column="AccumulatedRealEnergyPhaseAImport" />
		<result property="AccumulatedRealEnergyPhaseBImport"
			column="AccumulatedRealEnergyPhaseBImport" />
		<result property="AccumulatedRealEnergyPhaseCImport"
			column="AccumulatedRealEnergyPhaseCImport" />
		<result property="AccumulatedRealEnergyPhaseAExport"
			column="AccumulatedRealEnergyPhaseAExport" />
		<result property="AccumulatedRealEnergyPhaseBExport"
			column="AccumulatedRealEnergyPhaseBExport" />
		<result property="AccumulatedRealEnergyPhaseCExport"
			column="AccumulatedRealEnergyPhaseCExport" />
		<result property="AccumulatedQ1ReactiveEnergyPhaseAImport"
			column="AccumulatedQ1ReactiveEnergyPhaseAImport" />
		<result property="AccumulatedQ1ReactiveEnergyPhaseBImport"
			column="AccumulatedQ1ReactiveEnergyPhaseBImport" />
		<result property="AccumulatedQ1ReactiveEnergyPhaseCImport"
			column="AccumulatedQ1ReactiveEnergyPhaseCImport" />
		<result property="AccumulatedQ2ReactiveEnergyPhaseAImport"
			column="AccumulatedQ2ReactiveEnergyPhaseAImport" />
		<result property="AccumulatedQ2ReactiveEnergyPhaseBImport"
			column="AccumulatedQ2ReactiveEnergyPhaseBImport" />
		<result property="AccumulatedQ2ReactiveEnergyPhaseCImport"
			column="AccumulatedQ2ReactiveEnergyPhaseCImport" />
		<result property="AccumulatedQ3ReactiveEnergyPhaseAExport"
			column="AccumulatedQ3ReactiveEnergyPhaseAExport" />
		<result property="AccumulatedQ3ReactiveEnergyPhaseBExport"
			column="AccumulatedQ3ReactiveEnergyPhaseBExport" />
		<result property="AccumulatedQ3ReactiveEnergyPhaseCExport"
			column="AccumulatedQ3ReactiveEnergyPhaseCExport" />
		<result property="AccumulatedQ4ReactiveEnergyPhaseAExport"
			column="AccumulatedQ4ReactiveEnergyPhaseAExport" />
		<result property="AccumulatedQ4ReactiveEnergyPhaseBExport"
			column="AccumulatedQ4ReactiveEnergyPhaseBExport" />
		<result property="AccumulatedQ4ReactiveEnergyPhaseCExport"
			column="AccumulatedQ4ReactiveEnergyPhaseCExport" />
		<result property="AccumulatedApparentEnergyPhaseAImport"
			column="AccumulatedApparentEnergyPhaseAImport" />
		<result property="AccumulatedApparentEnergyPhaseBImport"
			column="AccumulatedApparentEnergyPhaseBImport" />
		<result property="AccumulatedApparentEnergyPhaseCImport"
			column="AccumulatedApparentEnergyPhaseCImport" />
		<result property="AccumulatedApparentEnergyPhaseAExport"
			column="AccumulatedApparentEnergyPhaseAExport" />
		<result property="AccumulatedApparentEnergyPhaseBExport"
			column="AccumulatedApparentEnergyPhaseBExport" />
		<result property="AccumulatedApparentEnergyPhaseCExport"
			column="AccumulatedApparentEnergyPhaseCExport" />
		<result property="RealPowerPhaseA" column="RealPowerPhaseA" />
		<result property="RealPowerPhaseB" column="RealPowerPhaseB" />
		<result property="RealPowerPhaseC" column="RealPowerPhaseC" />
		<result property="ReactivePowerPhaseA"
			column="ReactivePowerPhaseA" />
		<result property="ReactivePowerPhaseB"
			column="ReactivePowerPhaseB" />
		<result property="ReactivePowerPhaseC"
			column="ReactivePowerPhaseC" />
		<result property="ApparentPowerPhaseA"
			column="ApparentPowerPhaseA" />
		<result property="ApparentPowerPhaseB"
			column="ApparentPowerPhaseB" />
		<result property="ApparentPowerPhaseC"
			column="ApparentPowerPhaseC" />
		<result property="PowerFactorPhaseA" column="PowerFactorPhaseA" />
		<result property="PowerFactorPhaseB" column="PowerFactorPhaseB" />
		<result property="PowerFactorPhaseC" column="PowerFactorPhaseC" />
		<result property="VoltagePhaseAB" column="VoltagePhaseAB" />
		<result property="VoltagePhaseBC" column="VoltagePhaseBC" />
		<result property="VoltagePhaseAC" column="VoltagePhaseAC" />
		<result property="VoltagePhaseAN" column="VoltagePhaseAN" />
		<result property="VoltagePhaseBN" column="VoltagePhaseBN" />
		<result property="VoltagePhaseCN" column="VoltagePhaseCN" />
		<result property="CurrentPhaseA" column="CurrentPhaseA" />
		<result property="CurrentPhaseB" column="CurrentPhaseB" />
		<result property="CurrentPhaseC" column="CurrentPhaseC" />
		<result property="nvmActivePower" column="nvmActivePower" />
		<result property="nvmActiveEnergy" column="nvmActiveEnergy" />
		<result property="MeasuredProduction" column="MeasuredProduction" />
		<result property="datatablename" column="datatablename" />
		<result property="view_tablename" column="view_tablename" />
		<result property="job_tablename" column="job_tablename" />

	</resultMap>

	<insert id="insertModelVerisIndustriesE51c2PowerMeter"
		useGeneratedKeys="true" keyProperty="time">
		INSERT INTO `${datatablename}`
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="time != null">
				`time`,
			</if>
			<if test="id_device != 0.001">
				`id_device`,
			</if>
			<if test="error != 0.001">
				`error`,
			</if>
			<if test="low_alarm != 0.001">
				`low_alarm`,
			</if>
			<if test="high_alarm != 0.001">
				`high_alarm`,
			</if>
			<if test="AccumulatedRealEnergyNet != 0.001">
				`AccumulatedRealEnergyNet`,
			</if>
			<if test="RealEnergyQuadrants14Import != 0.001">
				`RealEnergyQuadrants14Import`,
			</if>
			<if test="RealEnergyQuadrants23Export != 0.001">
				`RealEnergyQuadrants23Export`,
			</if>
			<if test="ReactiveEnergyQuadrant1 != 0.001">
				`ReactiveEnergyQuadrant1`,
			</if>
			<if test="ReactiveEnergyQuadrant2 != 0.001">
				`ReactiveEnergyQuadrant2`,
			</if>
			<if test="ReactiveEnergyQuadrant3 != 0.001">
				`ReactiveEnergyQuadrant3`,
			</if>
			<if test="ReactiveEnergyQuadrant4 != 0.001">
				`ReactiveEnergyQuadrant4`,
			</if>
			<if test="ApparentEnergyNet != 0.001">
				`ApparentEnergyNet`,
			</if>
			<if test="ApparentEnergyQuadrants14 != 0.001">
				`ApparentEnergyQuadrants14`,
			</if>
			<if test="ApparentEnergyQuadrants23 != 0.001">
				`ApparentEnergyQuadrants23`,
			</if>
			<if test="TotalNetInstantaneousRealPower != 0.001">
				`TotalNetInstantaneousRealPower`,
			</if>
			<if test="TotalNetInstantaneousReactivePower != 0.001">
				`TotalNetInstantaneousReactivePower`,
			</if>
			<if test="TotalNetInstantaneousApparentPower != 0.001">
				`TotalNetInstantaneousApparentPower`,
			</if>
			<if test="TotalPowerFactor != 0.001">
				`TotalPowerFactor`,
			</if>
			<if test="VoltageLL3pAve != 0.001">
				`VoltageLL3pAve`,
			</if>
			<if test="VoltageLN3pAve != 0.001">
				`VoltageLN3pAve`,
			</if>
			<if test="Current3pAve != 0.001">
				`Current3pAve`,
			</if>
			<if test="Frequency != 0.001">
				`Frequency`,
			</if>
			<if test="TotalRealPowerPresentDemand != 0.001">
				`TotalRealPowerPresentDemand`,
			</if>
			<if test="TotalReactivePowerPresentDemand != 0.001">
				`TotalReactivePowerPresentDemand`,
			</if>
			<if test="TotalApparentPowerPresentDemand != 0.001">
				`TotalApparentPowerPresentDemand`,
			</if>
			<if test="TotalRealPowerMaxDemandImport != 0.001">
				`TotalRealPowerMaxDemandImport`,
			</if>
			<if test="TotalReactivePowerMaxDemandImport != 0.001">
				`TotalReactivePowerMaxDemandImport`,
			</if>
			<if test="TotalApparentPowerMaxDemandImport != 0.001">
				`TotalApparentPowerMaxDemandImport`,
			</if>
			<if test="TotalRealPowerMaxDemandExport != 0.001">
				`TotalRealPowerMaxDemandExport`,
			</if>
			<if test="TotalReactivePowerMaxDemandExport != 0.001">
				`TotalReactivePowerMaxDemandExport`,
			</if>
			<if test="TotalApparentPowerMaxDemandExport != 0.001">
				`TotalApparentPowerMaxDemandExport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseAImport != 0.001">
				`AccumulatedRealEnergyPhaseAImport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseBImport != 0.001">
				`AccumulatedRealEnergyPhaseBImport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseCImport != 0.001">
				`AccumulatedRealEnergyPhaseCImport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseAExport != 0.001">
				`AccumulatedRealEnergyPhaseAExport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseBExport != 0.001">
				`AccumulatedRealEnergyPhaseBExport`,
			</if>
			<if test="AccumulatedRealEnergyPhaseCExport != 0.001">
				`AccumulatedRealEnergyPhaseCExport`,
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseAImport != 0.001">
				`AccumulatedQ1ReactiveEnergyPhaseAImport`,
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseBImport != 0.001">
				`AccumulatedQ1ReactiveEnergyPhaseBImport`,
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseCImport != 0.001">
				`AccumulatedQ1ReactiveEnergyPhaseCImport`,
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseAImport != 0.001">
				`AccumulatedQ2ReactiveEnergyPhaseAImport`,
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseBImport != 0.001">
				`AccumulatedQ2ReactiveEnergyPhaseBImport`,
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseCImport != 0.001">
				`AccumulatedQ2ReactiveEnergyPhaseCImport`,
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseAExport != 0.001">
				`AccumulatedQ3ReactiveEnergyPhaseAExport`,
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseBExport != 0.001">
				`AccumulatedQ3ReactiveEnergyPhaseBExport`,
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseCExport != 0.001">
				`AccumulatedQ3ReactiveEnergyPhaseCExport`,
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseAExport != 0.001">
				`AccumulatedQ4ReactiveEnergyPhaseAExport`,
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseBExport != 0.001">
				`AccumulatedQ4ReactiveEnergyPhaseBExport`,
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseCExport != 0.001">
				`AccumulatedQ4ReactiveEnergyPhaseCExport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseAImport != 0.001">
				`AccumulatedApparentEnergyPhaseAImport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseBImport != 0.001">
				`AccumulatedApparentEnergyPhaseBImport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseCImport != 0.001">
				`AccumulatedApparentEnergyPhaseCImport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseAExport != 0.001">
				`AccumulatedApparentEnergyPhaseAExport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseBExport != 0.001">
				`AccumulatedApparentEnergyPhaseBExport`,
			</if>
			<if test="AccumulatedApparentEnergyPhaseCExport != 0.001">
				`AccumulatedApparentEnergyPhaseCExport`,
			</if>
			<if test="RealPowerPhaseA != 0.001">
				`RealPowerPhaseA`,
			</if>
			<if test="RealPowerPhaseB != 0.001">
				`RealPowerPhaseB`,
			</if>
			<if test="RealPowerPhaseC != 0.001">
				`RealPowerPhaseC`,
			</if>
			<if test="ReactivePowerPhaseA != 0.001">
				`ReactivePowerPhaseA`,
			</if>
			<if test="ReactivePowerPhaseB != 0.001">
				`ReactivePowerPhaseB`,
			</if>
			<if test="ReactivePowerPhaseC != 0.001">
				`ReactivePowerPhaseC`,
			</if>
			<if test="ApparentPowerPhaseA != 0.001">
				`ApparentPowerPhaseA`,
			</if>
			<if test="ApparentPowerPhaseB != 0.001">
				`ApparentPowerPhaseB`,
			</if>
			<if test="ApparentPowerPhaseC != 0.001">
				`ApparentPowerPhaseC`,
			</if>
			<if test="PowerFactorPhaseA != 0.001">
				`PowerFactorPhaseA`,
			</if>
			<if test="PowerFactorPhaseB != 0.001">
				`PowerFactorPhaseB`,
			</if>
			<if test="PowerFactorPhaseC != 0.001">
				`PowerFactorPhaseC`,
			</if>
			<if test="VoltagePhaseAB != 0.001">
				`VoltagePhaseAB`,
			</if>
			<if test="VoltagePhaseBC != 0.001">
				`VoltagePhaseBC`,
			</if>
			<if test="VoltagePhaseAC != 0.001">
				`VoltagePhaseAC`,
			</if>
			<if test="VoltagePhaseAN != 0.001">
				`VoltagePhaseAN`,
			</if>
			<if test="VoltagePhaseBN != 0.001">
				`VoltagePhaseBN`,
			</if>
			<if test="VoltagePhaseCN != 0.001">
				`VoltagePhaseCN`,
			</if>
			<if test="CurrentPhaseA != 0.001">
				`CurrentPhaseA`,
			</if>
			<if test="CurrentPhaseB != 0.001">
				`CurrentPhaseB`,
			</if>
			<if test="CurrentPhaseC != 0.001">
				`CurrentPhaseC`,
			</if>
			<if test="nvmActivePower != 0.001">
				`nvmActivePower`,
			</if>
			<if test="nvmActiveEnergy != 0.001">
				`nvmActiveEnergy`,
			</if>
			<if test="MeasuredProduction != 0.001">
				`MeasuredProduction`,
			</if>
		</trim>


		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="time != null">
				#{time},
			</if>
			<if test="id_device != 0.001">
				#{id_device},
			</if>
			<if test="error != 0.001">
				#{error},
			</if>
			<if test="low_alarm != 0.001">
				#{low_alarm},
			</if>
			<if test="high_alarm != 0.001">
				#{high_alarm},
			</if>
			<if test="AccumulatedRealEnergyNet != 0.001">
				#{AccumulatedRealEnergyNet},
			</if>
			<if test="RealEnergyQuadrants14Import != 0.001">
				#{RealEnergyQuadrants14Import},
			</if>
			<if test="RealEnergyQuadrants23Export != 0.001">
				#{RealEnergyQuadrants23Export},
			</if>
			<if test="ReactiveEnergyQuadrant1 != 0.001">
				#{ReactiveEnergyQuadrant1},
			</if>
			<if test="ReactiveEnergyQuadrant2 != 0.001">
				#{ReactiveEnergyQuadrant2},
			</if>
			<if test="ReactiveEnergyQuadrant3 != 0.001">
				#{ReactiveEnergyQuadrant3},
			</if>
			<if test="ReactiveEnergyQuadrant4 != 0.001">
				#{ReactiveEnergyQuadrant4},
			</if>
			<if test="ApparentEnergyNet != 0.001">
				#{ApparentEnergyNet},
			</if>
			<if test="ApparentEnergyQuadrants14 != 0.001">
				#{ApparentEnergyQuadrants14},
			</if>
			<if test="ApparentEnergyQuadrants23 != 0.001">
				#{ApparentEnergyQuadrants23},
			</if>
			<if test="TotalNetInstantaneousRealPower != 0.001">
				#{TotalNetInstantaneousRealPower},
			</if>
			<if test="TotalNetInstantaneousReactivePower != 0.001">
				#{TotalNetInstantaneousReactivePower},
			</if>
			<if test="TotalNetInstantaneousApparentPower != 0.001">
				#{TotalNetInstantaneousApparentPower},
			</if>
			<if test="TotalPowerFactor != 0.001">
				#{TotalPowerFactor},
			</if>
			<if test="VoltageLL3pAve != 0.001">
				#{VoltageLL3pAve},
			</if>
			<if test="VoltageLN3pAve != 0.001">
				#{VoltageLN3pAve},
			</if>
			<if test="Current3pAve != 0.001">
				#{Current3pAve},
			</if>
			<if test="Frequency != 0.001">
				#{Frequency},
			</if>
			<if test="TotalRealPowerPresentDemand != 0.001">
				#{TotalRealPowerPresentDemand},
			</if>
			<if test="TotalReactivePowerPresentDemand != 0.001">
				#{TotalReactivePowerPresentDemand},
			</if>
			<if test="TotalApparentPowerPresentDemand != 0.001">
				#{TotalApparentPowerPresentDemand},
			</if>
			<if test="TotalRealPowerMaxDemandImport != 0.001">
				#{TotalRealPowerMaxDemandImport},
			</if>
			<if test="TotalReactivePowerMaxDemandImport != 0.001">
				#{TotalReactivePowerMaxDemandImport},
			</if>
			<if test="TotalApparentPowerMaxDemandImport != 0.001">
				#{TotalApparentPowerMaxDemandImport},
			</if>
			<if test="TotalRealPowerMaxDemandExport != 0.001">
				#{TotalRealPowerMaxDemandExport},
			</if>
			<if test="TotalReactivePowerMaxDemandExport != 0.001">
				#{TotalReactivePowerMaxDemandExport},
			</if>
			<if test="TotalApparentPowerMaxDemandExport != 0.001">
				#{TotalApparentPowerMaxDemandExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseAImport != 0.001">
				#{AccumulatedRealEnergyPhaseAImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseBImport != 0.001">
				#{AccumulatedRealEnergyPhaseBImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseCImport != 0.001">
				#{AccumulatedRealEnergyPhaseCImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseAExport != 0.001">
				#{AccumulatedRealEnergyPhaseAExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseBExport != 0.001">
				#{AccumulatedRealEnergyPhaseBExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseCExport != 0.001">
				#{AccumulatedRealEnergyPhaseCExport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseAImport != 0.001">
				#{AccumulatedQ1ReactiveEnergyPhaseAImport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseBImport != 0.001">
				#{AccumulatedQ1ReactiveEnergyPhaseBImport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseCImport != 0.001">
				#{AccumulatedQ1ReactiveEnergyPhaseCImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseAImport != 0.001">
				#{AccumulatedQ2ReactiveEnergyPhaseAImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseBImport != 0.001">
				#{AccumulatedQ2ReactiveEnergyPhaseBImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseCImport != 0.001">
				#{AccumulatedQ2ReactiveEnergyPhaseCImport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseAExport != 0.001">
				#{AccumulatedQ3ReactiveEnergyPhaseAExport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseBExport != 0.001">
				#{AccumulatedQ3ReactiveEnergyPhaseBExport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseCExport != 0.001">
				#{AccumulatedQ3ReactiveEnergyPhaseCExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseAExport != 0.001">
				#{AccumulatedQ4ReactiveEnergyPhaseAExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseBExport != 0.001">
				#{AccumulatedQ4ReactiveEnergyPhaseBExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseCExport != 0.001">
				#{AccumulatedQ4ReactiveEnergyPhaseCExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseAImport != 0.001">
				#{AccumulatedApparentEnergyPhaseAImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseBImport != 0.001">
				#{AccumulatedApparentEnergyPhaseBImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseCImport != 0.001">
				#{AccumulatedApparentEnergyPhaseCImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseAExport != 0.001">
				#{AccumulatedApparentEnergyPhaseAExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseBExport != 0.001">
				#{AccumulatedApparentEnergyPhaseBExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseCExport != 0.001">
				#{AccumulatedApparentEnergyPhaseCExport},
			</if>
			<if test="RealPowerPhaseA != 0.001">
				#{RealPowerPhaseA},
			</if>
			<if test="RealPowerPhaseB != 0.001">
				#{RealPowerPhaseB},
			</if>
			<if test="RealPowerPhaseC != 0.001">
				#{RealPowerPhaseC},
			</if>
			<if test="ReactivePowerPhaseA != 0.001">
				#{ReactivePowerPhaseA},
			</if>
			<if test="ReactivePowerPhaseB != 0.001">
				#{ReactivePowerPhaseB},
			</if>
			<if test="ReactivePowerPhaseC != 0.001">
				#{ReactivePowerPhaseC},
			</if>
			<if test="ApparentPowerPhaseA != 0.001">
				#{ApparentPowerPhaseA},
			</if>
			<if test="ApparentPowerPhaseB != 0.001">
				#{ApparentPowerPhaseB},
			</if>
			<if test="ApparentPowerPhaseC != 0.001">
				#{ApparentPowerPhaseC},
			</if>
			<if test="PowerFactorPhaseA != 0.001">
				#{PowerFactorPhaseA},
			</if>
			<if test="PowerFactorPhaseB != 0.001">
				#{PowerFactorPhaseB},
			</if>
			<if test="PowerFactorPhaseC != 0.001">
				#{PowerFactorPhaseC},
			</if>
			<if test="VoltagePhaseAB != 0.001">
				#{VoltagePhaseAB},
			</if>
			<if test="VoltagePhaseBC != 0.001">
				#{VoltagePhaseBC},
			</if>
			<if test="VoltagePhaseAC != 0.001">
				#{VoltagePhaseAC},
			</if>
			<if test="VoltagePhaseAN != 0.001">
				#{VoltagePhaseAN},
			</if>
			<if test="VoltagePhaseBN != 0.001">
				#{VoltagePhaseBN},
			</if>
			<if test="VoltagePhaseCN != 0.001">
				#{VoltagePhaseCN},
			</if>
			<if test="CurrentPhaseA != 0.001">
				#{CurrentPhaseA},
			</if>
			<if test="CurrentPhaseB != 0.001">
				#{CurrentPhaseB},
			</if>
			<if test="CurrentPhaseC != 0.001">
				#{CurrentPhaseC},
			</if>
			<if test="nvmActivePower != 0.001">
				#{nvmActivePower},
			</if>
			<if test="nvmActiveEnergy != 0.001">
				#{nvmActiveEnergy},
			</if>
			<if test="MeasuredProduction != 0.001">
				#{MeasuredProduction},
			</if>
		</trim>


		<trim prefix="ON DUPLICATE KEY UPDATE " suffix=""
			suffixOverrides=",">
			<if test="id_device != 0.001">
				id_device = #{id_device},
			</if>
			<if test="error != 0.001">
				error = #{error},
			</if>
			<if test="low_alarm != 0.001">
				low_alarm = #{low_alarm},
			</if>
			<if test="high_alarm != 0.001">
				high_alarm = #{high_alarm},
			</if>
			<if test="AccumulatedRealEnergyNet != 0.001">
				AccumulatedRealEnergyNet = #{AccumulatedRealEnergyNet},
			</if>
			<if test="RealEnergyQuadrants14Import != 0.001">
				RealEnergyQuadrants14Import =
				#{RealEnergyQuadrants14Import},
			</if>
			<if test="RealEnergyQuadrants23Export != 0.001">
				RealEnergyQuadrants23Export =
				#{RealEnergyQuadrants23Export},
			</if>
			<if test="ReactiveEnergyQuadrant1 != 0.001">
				ReactiveEnergyQuadrant1 = #{ReactiveEnergyQuadrant1},
			</if>
			<if test="ReactiveEnergyQuadrant2 != 0.001">
				ReactiveEnergyQuadrant2 = #{ReactiveEnergyQuadrant2},
			</if>
			<if test="ReactiveEnergyQuadrant3 != 0.001">
				ReactiveEnergyQuadrant3 = #{ReactiveEnergyQuadrant3},
			</if>
			<if test="ReactiveEnergyQuadrant4 != 0.001">
				ReactiveEnergyQuadrant4 = #{ReactiveEnergyQuadrant4},
			</if>
			<if test="ApparentEnergyNet != 0.001">
				ApparentEnergyNet = #{ApparentEnergyNet},
			</if>
			<if test="ApparentEnergyQuadrants14 != 0.001">
				ApparentEnergyQuadrants14 = #{ApparentEnergyQuadrants14},
			</if>
			<if test="ApparentEnergyQuadrants23 != 0.001">
				ApparentEnergyQuadrants23 = #{ApparentEnergyQuadrants23},
			</if>
			<if test="TotalNetInstantaneousRealPower != 0.001">
				TotalNetInstantaneousRealPower =
				#{TotalNetInstantaneousRealPower},
			</if>
			<if test="TotalNetInstantaneousReactivePower != 0.001">
				TotalNetInstantaneousReactivePower =
				#{TotalNetInstantaneousReactivePower},
			</if>
			<if test="TotalNetInstantaneousApparentPower != 0.001">
				TotalNetInstantaneousApparentPower =
				#{TotalNetInstantaneousApparentPower},
			</if>
			<if test="TotalPowerFactor != 0.001">
				TotalPowerFactor = #{TotalPowerFactor},
			</if>
			<if test="VoltageLL3pAve != 0.001">
				VoltageLL3pAve = #{VoltageLL3pAve},
			</if>
			<if test="VoltageLN3pAve != 0.001">
				VoltageLN3pAve = #{VoltageLN3pAve},
			</if>
			<if test="Current3pAve != 0.001">
				Current3pAve = #{Current3pAve},
			</if>
			<if test="Frequency != 0.001">
				Frequency = #{Frequency},
			</if>
			<if test="TotalRealPowerPresentDemand != 0.001">
				TotalRealPowerPresentDemand =
				#{TotalRealPowerPresentDemand},
			</if>
			<if test="TotalReactivePowerPresentDemand != 0.001">
				TotalReactivePowerPresentDemand =
				#{TotalReactivePowerPresentDemand},
			</if>
			<if test="TotalApparentPowerPresentDemand != 0.001">
				TotalApparentPowerPresentDemand =
				#{TotalApparentPowerPresentDemand},
			</if>
			<if test="TotalRealPowerMaxDemandImport != 0.001">
				TotalRealPowerMaxDemandImport =
				#{TotalRealPowerMaxDemandImport},
			</if>
			<if test="TotalReactivePowerMaxDemandImport != 0.001">
				TotalReactivePowerMaxDemandImport =
				#{TotalReactivePowerMaxDemandImport},
			</if>
			<if test="TotalApparentPowerMaxDemandImport != 0.001">
				TotalApparentPowerMaxDemandImport =
				#{TotalApparentPowerMaxDemandImport},
			</if>
			<if test="TotalRealPowerMaxDemandExport != 0.001">
				TotalRealPowerMaxDemandExport =
				#{TotalRealPowerMaxDemandExport},
			</if>
			<if test="TotalReactivePowerMaxDemandExport != 0.001">
				TotalReactivePowerMaxDemandExport =
				#{TotalReactivePowerMaxDemandExport},
			</if>
			<if test="TotalApparentPowerMaxDemandExport != 0.001">
				TotalApparentPowerMaxDemandExport =
				#{TotalApparentPowerMaxDemandExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseAImport != 0.001">
				AccumulatedRealEnergyPhaseAImport =
				#{AccumulatedRealEnergyPhaseAImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseBImport != 0.001">
				AccumulatedRealEnergyPhaseBImport =
				#{AccumulatedRealEnergyPhaseBImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseCImport != 0.001">
				AccumulatedRealEnergyPhaseCImport =
				#{AccumulatedRealEnergyPhaseCImport},
			</if>
			<if test="AccumulatedRealEnergyPhaseAExport != 0.001">
				AccumulatedRealEnergyPhaseAExport =
				#{AccumulatedRealEnergyPhaseAExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseBExport != 0.001">
				AccumulatedRealEnergyPhaseBExport =
				#{AccumulatedRealEnergyPhaseBExport},
			</if>
			<if test="AccumulatedRealEnergyPhaseCExport != 0.001">
				AccumulatedRealEnergyPhaseCExport =
				#{AccumulatedRealEnergyPhaseCExport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseAImport != 0.001">
				AccumulatedQ1ReactiveEnergyPhaseAImport =
				#{AccumulatedQ1ReactiveEnergyPhaseAImport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseBImport != 0.001">
				AccumulatedQ1ReactiveEnergyPhaseBImport =
				#{AccumulatedQ1ReactiveEnergyPhaseBImport},
			</if>
			<if test="AccumulatedQ1ReactiveEnergyPhaseCImport != 0.001">
				AccumulatedQ1ReactiveEnergyPhaseCImport =
				#{AccumulatedQ1ReactiveEnergyPhaseCImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseAImport != 0.001">
				AccumulatedQ2ReactiveEnergyPhaseAImport =
				#{AccumulatedQ2ReactiveEnergyPhaseAImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseBImport != 0.001">
				AccumulatedQ2ReactiveEnergyPhaseBImport =
				#{AccumulatedQ2ReactiveEnergyPhaseBImport},
			</if>
			<if test="AccumulatedQ2ReactiveEnergyPhaseCImport != 0.001">
				AccumulatedQ2ReactiveEnergyPhaseCImport =
				#{AccumulatedQ2ReactiveEnergyPhaseCImport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseAExport != 0.001">
				AccumulatedQ3ReactiveEnergyPhaseAExport =
				#{AccumulatedQ3ReactiveEnergyPhaseAExport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseBExport != 0.001">
				AccumulatedQ3ReactiveEnergyPhaseBExport =
				#{AccumulatedQ3ReactiveEnergyPhaseBExport},
			</if>
			<if test="AccumulatedQ3ReactiveEnergyPhaseCExport != 0.001">
				AccumulatedQ3ReactiveEnergyPhaseCExport =
				#{AccumulatedQ3ReactiveEnergyPhaseCExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseAExport != 0.001">
				AccumulatedQ4ReactiveEnergyPhaseAExport =
				#{AccumulatedQ4ReactiveEnergyPhaseAExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseBExport != 0.001">
				AccumulatedQ4ReactiveEnergyPhaseBExport =
				#{AccumulatedQ4ReactiveEnergyPhaseBExport},
			</if>
			<if test="AccumulatedQ4ReactiveEnergyPhaseCExport != 0.001">
				AccumulatedQ4ReactiveEnergyPhaseCExport =
				#{AccumulatedQ4ReactiveEnergyPhaseCExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseAImport != 0.001">
				AccumulatedApparentEnergyPhaseAImport =
				#{AccumulatedApparentEnergyPhaseAImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseBImport != 0.001">
				AccumulatedApparentEnergyPhaseBImport =
				#{AccumulatedApparentEnergyPhaseBImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseCImport != 0.001">
				AccumulatedApparentEnergyPhaseCImport =
				#{AccumulatedApparentEnergyPhaseCImport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseAExport != 0.001">
				AccumulatedApparentEnergyPhaseAExport =
				#{AccumulatedApparentEnergyPhaseAExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseBExport != 0.001">
				AccumulatedApparentEnergyPhaseBExport =
				#{AccumulatedApparentEnergyPhaseBExport},
			</if>
			<if test="AccumulatedApparentEnergyPhaseCExport != 0.001">
				AccumulatedApparentEnergyPhaseCExport =
				#{AccumulatedApparentEnergyPhaseCExport},
			</if>
			<if test="RealPowerPhaseA != 0.001">
				RealPowerPhaseA = #{RealPowerPhaseA},
			</if>
			<if test="RealPowerPhaseB != 0.001">
				RealPowerPhaseB = #{RealPowerPhaseB},
			</if>
			<if test="RealPowerPhaseC != 0.001">
				RealPowerPhaseC = #{RealPowerPhaseC},
			</if>
			<if test="ReactivePowerPhaseA != 0.001">
				ReactivePowerPhaseA = #{ReactivePowerPhaseA},
			</if>
			<if test="ReactivePowerPhaseB != 0.001">
				ReactivePowerPhaseB = #{ReactivePowerPhaseB},
			</if>
			<if test="ReactivePowerPhaseC != 0.001">
				ReactivePowerPhaseC = #{ReactivePowerPhaseC},
			</if>
			<if test="ApparentPowerPhaseA != 0.001">
				ApparentPowerPhaseA = #{ApparentPowerPhaseA},
			</if>
			<if test="ApparentPowerPhaseB != 0.001">
				ApparentPowerPhaseB = #{ApparentPowerPhaseB},
			</if>
			<if test="ApparentPowerPhaseC != 0.001">
				ApparentPowerPhaseC = #{ApparentPowerPhaseC},
			</if>
			<if test="PowerFactorPhaseA != 0.001">
				PowerFactorPhaseA = #{PowerFactorPhaseA},
			</if>
			<if test="PowerFactorPhaseB != 0.001">
				PowerFactorPhaseB = #{PowerFactorPhaseB},
			</if>
			<if test="PowerFactorPhaseC != 0.001">
				PowerFactorPhaseC = #{PowerFactorPhaseC},
			</if>
			<if test="VoltagePhaseAB != 0.001">
				VoltagePhaseAB = #{VoltagePhaseAB},
			</if>
			<if test="VoltagePhaseBC != 0.001">
				VoltagePhaseBC = #{VoltagePhaseBC},
			</if>
			<if test="VoltagePhaseAC != 0.001">
				VoltagePhaseAC = #{VoltagePhaseAC},
			</if>
			<if test="VoltagePhaseAN != 0.001">
				VoltagePhaseAN = #{VoltagePhaseAN},
			</if>
			<if test="VoltagePhaseBN != 0.001">
				VoltagePhaseBN = #{VoltagePhaseBN},
			</if>
			<if test="VoltagePhaseCN != 0.001">
				VoltagePhaseCN = #{VoltagePhaseCN},
			</if>
			<if test="CurrentPhaseA != 0.001">
				CurrentPhaseA = #{CurrentPhaseA},
			</if>
			<if test="CurrentPhaseB != 0.001">
				CurrentPhaseB = #{CurrentPhaseB},
			</if>
			<if test="CurrentPhaseC != 0.001">
				CurrentPhaseC = #{CurrentPhaseC},
			</if>
			<if test="nvmActivePower != 0.001">
				nvmActivePower = #{nvmActivePower},
			</if>
			<if test="nvmActiveEnergy != 0.001">
				nvmActiveEnergy = #{nvmActiveEnergy},
			</if>
			<if test="MeasuredProduction != 0.001 and MeasuredProduction > 0">
				`MeasuredProduction` = #{MeasuredProduction},
			</if>
		</trim>

	</insert>
	
	
	<select id="getLastRow" resultType="com.nwm.api.entities.ModelVerisIndustriesE51c2PowerMeterEntity">
		SELECT
			dv.*,
			s.enable_alert
		FROM
			${view_tablename} dv 
			LEFT JOIN device d ON d.id = dv.id_device
			LEFT JOIN site s ON s.id = d.id_site
		WHERE
			dv.id_device = #{id_device}
			<if test="time != null" >
	        	AND dv.time <![CDATA[<]]> #{time}
	        </if>
		ORDER BY
			dv.time DESC 
			LIMIT 1
	</select>

</mapper> 